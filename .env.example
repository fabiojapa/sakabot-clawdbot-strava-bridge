# Strava Webhook Bridge â€” Environment Configuration
# Copy this to .env and fill in your actual values
# Do NOT commit .env to version control (add to .gitignore)

# =============================================================================
# REQUIRED: Strava OAuth Credentials
# =============================================================================
# Get these from https://www.strava.com/settings/api
STRAVA_CLIENT_ID=your_client_id_here
STRAVA_CLIENT_SECRET=your_client_secret_here

# Webhook verification token (any random string you choose)
STRAVA_VERIFY_TOKEN=your_webhook_verify_token_here

# Your personal refresh token (obtained via OAuth flow)
# See: https://developers.strava.com/docs/authentication/
STRAVA_REFRESH_TOKEN=your_refresh_token_here

# =============================================================================
# REQUIRED: Telegram Bot Credentials
# =============================================================================
# Create a bot with @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your Telegram chat ID (get from: https://api.telegram.org/bot<TOKEN>/getUpdates)
TELEGRAM_CHAT_ID=your_chat_id_here

# =============================================================================
# REQUIRED: Clawdbot Integration
# =============================================================================
# Token from your Clawdbot config (clawdbot.json -> hooks.token)
# Set to any non-empty value if not using Clawdbot
CLAWDBOT_HOOK_TOKEN=your_clawdbot_token_here

# =============================================================================
# OPTIONAL: Server & Gateway Configuration
# =============================================================================
# Port to listen on (default: 3009)
PORT=3009

# Clawdbot gateway URL (default: http://127.0.0.1:18789)
# Set this if your Clawdbot runs on a different host/port
# CLAWDBOT_GATEWAY_URL=http://127.0.0.1:18789

# =============================================================================
# OPTIONAL: Telegram Options
# =============================================================================
# Also send raw activity summary directly before AI coaching (default: false)
# SEND_RAW_TELEGRAM=false

# =============================================================================
# OPTIONAL: Storage Paths
# =============================================================================
# Path to JSONL activity store (default: ./activity-store.jsonl)
# STORE_PATH=./activity-store.jsonl

# Path to JSON state file (polling + idempotency) (default: ./state.json)
# STATE_PATH=./state.json

# =============================================================================
# OPTIONAL: Polling Configuration (fallback when Mac sleeps)
# =============================================================================
# Enable polling fallback (default: true)
# POLL_ENABLED=true

# Polling interval in seconds (default: 600 = 10 minutes)
# Minimum: 60 seconds
# POLL_INTERVAL_SEC=600

# Initial lookback window in hours (default: 24)
# Used for first run or after long downtime
# POLL_LOOKBACK_HOURS=24

# Max pages to fetch per poll (default: 4, = max 200 activities)
# Each page contains 50 activities. Increase only if you're very active.
# POLL_PAGE_LIMIT=4

# =============================================================================
# Notes
# =============================================================================
# - Uncomment any optional variables to override defaults
# - Keep .env secure: add to .gitignore, never commit
# - Required fields must be set or the service will fail to start
# - See README.md for instructions on obtaining credentials
